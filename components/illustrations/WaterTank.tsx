import * as React from "react";
import Svg, { Path } from "react-native-svg";

// Define the water tank component with a waterLevel prop
// waterLevel should be from 0 (empty) to 100 (full)
export const WaterTank = ({ waterLevel = 50, ...props }) => {
	// Clamp water level between 0 and 100
	const level = Math.max(0, Math.min(100, waterLevel));

	// Calculate which water sections to show based on water level
	// Each section represents roughly 20% of the tank's capacity
	// Reversed logic to fill from bottom up
	const showSection1 = level >= 20; // Bottom section (0-20%)
	const showSection2 = level >= 40; // Second from bottom (20-40%)
	const showSection3 = level >= 60; // Middle section (40-60%)
	const showSection4 = level >= 80; // Second from top (60-80%)
	const showSection5 = level >= 100; // Top section (80-100%)

	return (
		<Svg
			width={155}
			height={203}
			viewBox='0 0 155 203'
			fill='none'
			{...props}>
			{/* Tank structure - always shown */}
			<Path
				d='M67.2718 19.4258C59.3282 19.4258 44.3058 18.434 44.3058 14.6764V9.1696C44.3058 5.41426 59.3282 4.42249 67.2718 4.42249C75.2137 4.42249 90.2344 5.41426 90.2344 9.1696V14.6764C90.2344 18.4317 75.2137 19.4258 67.2718 19.4258ZM67.2718 5.54727C52.7687 5.54727 45.183 7.90506 45.183 9.16736V14.6741C45.183 15.9387 52.7687 18.2965 67.2718 18.2965C81.7732 18.2965 89.3572 15.9387 89.3572 14.6741V9.16736C89.3572 7.90506 81.7714 5.54727 67.2718 5.54727Z'
				fill='black'
			/>
			<Path
				d='M67.2719 48.1454C36.5236 48.1454 3.84375 44.8815 3.84375 38.8315C3.84375 38.5204 4.04024 38.2679 4.28233 38.2679C4.52443 38.2679 4.72092 38.5204 4.72092 38.8315C4.72092 42.1766 26.9958 47.0183 67.2719 47.0183C107.546 47.0183 129.821 42.1788 129.821 38.8315C129.821 38.5204 130.018 38.2679 130.26 38.2679C130.502 38.2679 130.698 38.5204 130.698 38.8315C130.698 44.8815 98.0184 48.1454 67.2719 48.1454Z'
				fill='black'
			/>

			{/* Water sections - conditionally shown based on water level */}
			{/* Section 5 (top section - shows when level >= 100%) */}
			{showSection5 && (
				<Path
					d='M66.9421 182.461C45.0076 182.461 19.2749 178.726 7.07001 170.649V185.089C7.07001 185.988 9.85239 190.095 23.4678 193.724C35.1973 196.851 50.8302 198.573 67.4859 198.573C84.1416 198.573 99.7728 196.851 111.502 193.724C125.119 190.095 127.902 185.988 127.902 185.089V169.89C116.276 178.482 89.9415 182.461 66.9421 182.461Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Section 4 (second from top - shows when level >= 80%) */}
			{showSection4 && (
				<Path
					d='M66.9421 180.128C97.8605 180.128 119.321 174.08 127.904 167.101V165.106L128.821 164.114C130.17 162.656 130.854 161.243 130.854 159.917C130.854 158.508 130.17 157.057 128.819 155.594L127.904 154.602V144.898C124.472 147.229 119.528 149.246 112.967 150.993C100.682 154.275 84.382 156.081 67.0649 156.081C44.2813 156.081 18.8469 152.727 7.06999 145.358V154.248L6.07879 155.24C4.49989 156.822 3.70166 158.394 3.70166 159.915C3.70166 161.373 4.50164 162.913 6.07703 164.489L7.06999 165.48V168.023C18.0995 175.985 43.9725 180.128 66.9421 180.128Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Section 3 (middle section - shows when level >= 60%) */}
			{showSection3 && (
				<Path
					d='M21.5625 99.2617C33.7955 101.408 50.0407 102.591 67.3069 102.591C84.5749 102.591 100.82 101.408 113.05 99.2617C119.628 98.1053 124.595 96.7506 127.904 95.2178V93.1756L129.307 92.2559C130.71 91.3363 130.925 90.7254 130.928 90.7209C130.937 90.6735 130.937 90.4932 130.937 90.3738C130.937 89.6525 129.781 88.7981 129.286 88.4623L127.902 87.5358V73.3959C124.483 74.6559 119.609 75.7424 113.1 76.6846C100.773 78.4721 84.4223 79.4571 67.0578 79.4571C49.6934 79.4571 33.3447 78.4721 21.017 76.6846C15.1171 75.8281 10.4541 74.8272 7.0682 73.6934V87.36L5.60859 88.2594C4.36126 89.0281 3.61566 89.817 3.61566 90.3738C3.61566 90.4842 3.61566 90.6713 3.62444 90.7164C3.62619 90.7231 3.88057 91.4332 5.59105 92.4678L7.06645 93.3627V95.3846C10.3786 96.8498 15.2224 98.1482 21.5625 99.2617Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Section 3 (wave pattern - shows when level >= 60%) */}
			{showSection3 && (
				<Path
					d='M7.06998 69.219V71.2725C10.3787 72.4401 15.1066 73.477 21.2205 74.3651C33.4833 76.1436 49.7618 77.1219 67.0578 77.1219C84.3556 77.1219 100.636 76.1436 112.897 74.3651C119.574 73.3958 124.583 72.2507 127.902 70.9524V69.0635L129.482 68.2159C130.572 67.6321 130.977 67.1903 131.095 67.0302C131.098 66.9604 131.095 66.8905 131.093 66.8048C131.091 66.798 130.87 66.2368 129.46 65.4591L127.9 64.6003V55.7417C126.946 56.1452 122.344 63.8497 115.892 64.6972C112.3 65.1683 107.699 59.4384 103.317 59.923C99.378 60.3581 95.6343 67.019 91.5554 67.3931C87.3713 67.7786 82.9381 61.8683 79.1101 62.123C74.4576 62.4319 70.3753 68.8718 67.0754 68.8718C63.0755 68.8718 61.0527 62.5987 55.0231 62.4274C51.4091 62.3259 47.1075 68.421 42.762 68.1798C38.8147 67.9612 34.9868 61.4243 30.9553 61.0433C26.7589 60.6443 22.1608 66.372 18.4188 65.7522C13.6944 64.9677 10.0664 57.0446 7.06823 55.8138V64.4493L5.43845 65.272C3.69288 66.1556 3.45955 66.7913 3.45604 66.8409C3.45604 66.8995 3.45429 66.9604 3.45604 67.0257C3.58937 67.2015 4.06831 67.7222 5.42617 68.3962L7.06998 69.219Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Section 2 (second from bottom - shows when level >= 40%) */}
			{showSection2 && (
				<Path
					d='M5.76302 111.955C4.87708 112.597 3.81921 113.573 3.81921 114.551C3.81921 115.32 4.47534 116.19 5.76653 117.13L7.07 118.081V120.362C10.3366 121.994 15.0715 123.448 21.2416 124.708C33.4307 127.197 49.632 128.57 66.8631 128.57C84.0907 128.57 100.292 127.199 112.483 124.708C119.504 123.275 124.658 121.595 127.904 119.697V117.84L129.128 116.873C130.737 115.597 130.737 114.808 130.737 114.549C130.737 113.695 129.858 112.813 129.121 112.225L127.904 111.256V97.6838C124.479 99.167 119.651 100.452 113.295 101.57C100.987 103.729 84.6539 104.92 67.307 104.92C49.9618 104.92 33.6289 103.729 21.317 101.57C15.1908 100.492 10.4734 99.2617 7.07176 97.8394V111.003L5.76302 111.955Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Section 1 (bottom section - shows when level >= 20%) */}
			{showSection1 && (
				<Path
					d='M6.02443 131.994C3.99817 133.912 3.99817 135.282 3.99817 135.735C3.99817 137.122 5.10866 138.479 6.03846 139.371L7.07177 140.361V142.734C16.8276 149.357 40.0393 153.748 67.0666 153.748C84.2609 153.748 100.432 151.958 112.599 148.71C119.544 146.857 124.66 144.682 127.904 142.227V140.108L128.854 139.116C129.984 137.935 130.556 136.797 130.556 135.735C130.556 135.332 130.556 134.103 128.86 132.336L127.905 131.342V122.224C124.46 124.066 119.449 125.65 112.771 127.014C100.489 129.523 84.1872 130.905 66.8649 130.905C49.5408 130.905 33.2377 129.523 20.9574 127.014C15.0295 125.804 10.4331 124.429 7.07352 122.858V131.002L6.02443 131.994Z'
					fill='#007AFF'
					fillOpacity={0.41}
				/>
			)}

			{/* Tank top elements - always shown */}
			<Path
				d='M67.2718 13.9191C59.3282 13.9191 44.3058 12.9273 44.3058 9.16743C44.3058 5.4121 59.3282 4.42029 67.2718 4.42029C75.2137 4.42029 90.2344 5.4121 90.2344 9.16743C90.2344 12.9273 75.2137 13.9191 67.2718 13.9191ZM67.2718 5.54734C52.7687 5.54734 45.183 7.90514 45.183 9.16743C45.183 10.432 52.7687 12.792 67.2718 12.792C81.7732 12.792 89.3572 10.432 89.3572 9.16743C89.3572 7.90514 81.7714 5.54734 67.2718 5.54734Z'
				fill='black'
			/>

			{/* Tank outline - always shown */}
			<Path
				d='M67.4789 202.869C36.5183 202.869 3.61218 196.589 3.61218 184.954V167.505C1.3754 165.14 0.242093 162.543 0.242093 159.78C0.242093 156.962 1.3754 154.332 3.61218 151.958V142.435C1.57188 140.345 0.540334 138.048 0.540334 135.598C0.540334 133.046 1.57364 130.709 3.61218 128.639V120.516C1.42627 118.78 0.361389 116.783 0.361389 114.418C0.361389 112.038 1.42452 110.032 3.61218 108.301V96.0226C0.161396 93.7279 0.161397 91.3881 0.161397 90.2385C0.161397 87.9258 1.29294 86.0256 3.61218 84.45V72.111C0.289462 70.283 0 68.3737 0 66.7125C0 63.8249 1.92451 62.2584 3.61218 61.3139V39.7309C3.61218 39.6362 3.62095 39.5415 3.64025 39.4513C3.6227 39.2169 3.61218 39.0253 3.61218 38.8315C3.61218 27.739 19.3854 18.0599 43.8655 14.0769V9.16748C43.8655 4.11153 63.3614 3.85681 67.2701 3.85681C71.1788 3.85681 90.6712 4.11379 90.6712 9.16748V14.007C115.407 17.9517 131.342 27.6579 131.342 38.8315C131.342 39.0434 131.33 39.2553 131.314 39.4626C131.333 39.5483 131.342 39.6385 131.342 39.7309V61.5641C133.491 62.9008 134.538 64.5913 134.538 66.7125C134.538 68.2926 134.281 70.1094 131.342 71.8676V84.7318C133.382 86.2488 134.375 88.0543 134.375 90.2385C134.375 91.9742 133.995 93.8338 131.342 95.7408V108.675C133.223 110.318 134.175 112.25 134.175 114.418C134.175 116.636 133.247 118.523 131.342 120.171V129.106C133.102 131.072 133.995 133.251 133.995 135.598C133.995 137.922 133.103 140.097 131.342 142.067V152.413C133.302 154.665 134.295 157.14 134.295 159.778C134.295 162.341 133.302 164.775 131.342 167.02V184.951C131.344 196.589 98.4394 202.869 67.4789 202.869ZM5.36652 39.9833V62.069C5.36652 62.5334 5.14722 62.9481 4.81039 63.1172C2.10169 64.4877 1.75434 65.759 1.75434 66.7125C1.75434 67.587 1.75433 68.7817 4.80688 70.301C5.14372 70.4701 5.36652 70.8871 5.36652 71.3514V85.142C5.36652 85.5748 5.17354 85.9715 4.86829 86.1586C2.22099 87.7929 1.91398 89.2693 1.91398 90.2385C1.91398 91.0906 1.91398 92.5197 4.86303 94.305C5.17003 94.492 5.36652 94.8888 5.36652 95.3238V108.945C5.36652 109.351 5.19634 109.728 4.92091 109.926C3.03325 111.296 2.11573 112.766 2.11573 114.418C2.11573 115.462 2.40695 117.06 4.92091 118.893C5.19634 119.093 5.36477 119.467 5.36477 119.873V129.198C5.36477 129.557 5.23144 129.895 5.00688 130.107C3.17886 131.836 2.29117 133.632 2.29117 135.6C2.29117 137.437 3.20693 139.247 5.01214 140.981C5.23319 141.193 5.36477 141.528 5.36477 141.882V152.499C5.36477 152.846 5.2402 153.175 5.02793 153.389C3.0157 155.405 1.99468 157.555 1.99468 159.78C1.99468 161.948 3.01395 164.065 5.02618 166.073C5.24021 166.287 5.36477 166.617 5.36477 166.964V184.954C5.36477 192.361 30.8728 200.615 67.4771 200.615C104.08 200.615 129.588 192.361 129.588 184.954V166.506C129.588 166.175 129.702 165.857 129.9 165.643C131.651 163.752 132.539 161.777 132.539 159.778C132.539 157.699 131.651 155.684 129.898 153.788C129.7 153.574 129.586 153.259 129.586 152.927V141.542C129.586 141.204 129.705 140.881 129.911 140.667C131.477 139.031 132.239 137.374 132.239 135.596C132.239 133.799 131.477 132.133 129.912 130.506C129.707 130.292 129.586 129.969 129.586 129.629V119.553C129.586 119.161 129.744 118.798 130.004 118.593C132.146 116.9 132.419 115.469 132.419 114.414C132.419 112.904 131.628 111.538 130 110.239C129.742 110.034 129.586 109.671 129.586 109.281V95.0578C129.586 94.634 129.77 94.2463 130.065 94.0547C132.621 92.3822 132.621 91.0883 132.621 90.2318C132.621 89.3211 132.356 87.9326 130.058 86.3908C129.768 86.1969 129.586 85.8115 129.586 85.3922V71.126C129.586 70.6707 129.798 70.2604 130.125 70.0869C132.782 68.66 132.782 67.578 132.782 66.7057C132.782 65.883 132.505 64.6342 130.118 63.3178C129.795 63.1397 129.586 62.7317 129.586 62.2831V40.0712C129.54 39.9202 129.521 39.7579 129.535 39.5979C129.563 39.2868 129.586 39.0569 129.586 38.827C129.586 28.9067 113.551 19.7821 89.6888 16.1191C89.2485 16.0515 88.9151 15.5714 88.9151 14.9989V9.31624C87.9327 7.97956 79.8312 6.10414 67.2684 6.10414C54.702 6.10414 46.6005 7.97956 45.6181 9.31624V15.0665C45.6181 15.6368 45.2882 16.1169 44.8479 16.1845C21.2328 19.8857 5.36477 28.9833 5.36477 38.8247C5.36477 39.0388 5.38406 39.2485 5.40161 39.4604C5.4174 39.6317 5.40511 39.8143 5.36652 39.9833Z'
				fill='black'
			/>
			<Path
				d='M74.4822 9.50103C73.998 9.50103 73.605 8.99612 73.605 8.37398V2.58319C73.605 2.40061 73.491 2.2541 73.3489 2.2541H60.03C59.8896 2.2541 59.7756 2.40061 59.7756 2.58319V8.37398C59.7756 8.99612 59.3826 9.50103 58.8984 9.50103C58.4142 9.50103 58.0212 8.99612 58.0212 8.37398V2.58319C58.0212 1.1586 58.923 0 60.03 0H73.3489C74.4576 0 75.3594 1.1586 75.3594 2.58319V8.37398C75.3594 8.99612 74.9664 9.50103 74.4822 9.50103Z'
				fill='black'
			/>

			{/* Level indicator lines - always shown */}
			<Path
				d='M4.40323 148.117L34.0517 156.365L50.4905 158.084L67.8099 158.084L86.3035 158.084L100.394 156.365L114.778 153.1L129.455 148.117'
				stroke='#FF171A'
				strokeWidth={5}
			/>
			<Path
				d='M6.57847 112L36.2269 119.045L68.8109 120.935L100.675 119.045L131.337 112'
				stroke='#FFF706'
				strokeWidth={5}
			/>
			<Path
				d='M4.69678 52.2266L30.2356 57.7251L67.2228 60.1307L98.9261 57.7251L130.042 52.2266'
				stroke='#1EFC21'
				strokeWidth={5}
			/>

			{/* Labels - always shown */}
			<Path
				d='M141.759 62V53.2727H143.604V56.8736H147.349V53.2727H149.19V62H147.349V58.3949H143.604V62H141.759Z'
				fill='black'
			/>
			<Path
				d='M141.759 116V107.273H143.604V114.479H147.345V116H141.759Z'
				fill='black'
			/>
			<Path
				d='M141.759 155V146.273H143.604V153.479H147.345V155H141.759ZM148.567 155V146.273H150.412V153.479H154.154V155H148.567Z'
				fill='black'
			/>
		</Svg>
	);
};
